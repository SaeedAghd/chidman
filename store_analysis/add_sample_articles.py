from store_analysis.models import ArticleCategory, Article
from django.utils.text import slugify

# حذف دسته‌بندی‌های تکراری با همان slug قبل از ایجاد نمونه‌ها
for title in ['چیدمان فروشگاه', 'روانشناسی خرید', 'نورپردازی و رنگ']:
    slug = slugify(title)
    ArticleCategory.objects.filter(slug=slug).delete()

# دسته‌بندی‌ها
categories = [
    ('چیدمان فروشگاه', 'مقالات تخصصی درباره اصول چیدمان و طراحی فروشگاه'),
    ('روانشناسی خرید', 'تحلیل رفتار مشتری و تاثیر چیدمان بر فروش'),
    ('نورپردازی و رنگ', 'نقش نور و رنگ در تجربه خرید و فروش بیشتر'),
]

for title, desc in categories:
    ArticleCategory.objects.get_or_create(slug=slugify(title), defaults={'title': title, 'description': desc})

# مقالات نمونه
sample_articles = [
    {
        'title': 'اصول طلایی چیدمان فروشگاه‌های موفق',
        'summary': 'در این مقاله با مهم‌ترین اصول چیدمان فروشگاه‌های مدرن و تاثیر آن بر افزایش فروش آشنا می‌شوید.',
        'content': '''
چیدمان فروشگاه یکی از عوامل کلیدی موفقیت در خرده‌فروشی است. مسیر حرکت مشتری، محل قرارگیری محصولات پرفروش، استفاده از قفسه‌های جذاب و نورپردازی مناسب، همگی نقش مهمی در افزایش فروش دارند. تحقیقات جهانی نشان می‌دهد که فروشگاه‌هایی با چیدمان اصولی، تا ۳۰٪ فروش بیشتری نسبت به رقبا دارند.

برخی نکات کلیدی:
- مسیر حرکت مشتری باید روان و بدون بن‌بست باشد.
- محصولات پرفروش در نقاط طلایی و در معرض دید قرار گیرند.
- استفاده از رنگ‌های گرم و نور طبیعی، حس راحتی و اعتماد ایجاد می‌کند.
- تابلوهای راهنما و دسته‌بندی شفاف، تجربه خرید را بهبود می‌بخشد.
''',
        'author': 'ترجمه تیم چیدمانو',
        'source_url': 'https://www.shopify.com/retail/store-layout-design',
        'category': 'چیدمان فروشگاه',
        'tags': 'چیدمان,افزایش فروش,مسیر مشتری',
        'is_featured': True,
    },
    {
        'title': 'روانشناسی رنگ‌ها در فروشگاه و تاثیر آن بر رفتار مشتری',
        'summary': 'رنگ‌ها چگونه می‌توانند احساسات مشتری را تحریک و او را به خرید ترغیب کنند؟',
        'content': '''
رنگ‌ها یکی از ابزارهای قدرتمند در طراحی فروشگاه هستند. رنگ قرمز حس هیجان و فوریت ایجاد می‌کند و برای تخفیف‌ها مناسب است. رنگ آبی حس اعتماد و آرامش می‌دهد و برای فروشگاه‌های لوکس یا دارویی توصیه می‌شود. ترکیب رنگ‌های مناسب می‌تواند مدت زمان حضور مشتری در فروشگاه را افزایش دهد و نرخ خرید را بالا ببرد.

نکات کاربردی:
- رنگ زرد برای جلب توجه در ورودی فروشگاه عالی است.
- رنگ سبز حس تازگی و سلامت را القا می‌کند.
- از رنگ‌های تیره برای بخش‌های خاص و محصولات لوکس استفاده کنید.
''',
        'author': 'ترجمه اختصاصی چیدمانو',
        'source_url': 'https://www.retaildoc.com/blog/color-psychology-in-retail',
        'category': 'نورپردازی و رنگ',
        'tags': 'رنگ,روانشناسی,تجربه خرید',
        'is_featured': False,
    },
    {
        'title': 'چگونه چیدمان فروشگاه بر رفتار خرید مشتری تاثیر می‌گذارد؟',
        'summary': 'تحلیل علمی رفتار مشتری در فروشگاه و نقش چیدمان در افزایش نرخ تبدیل.',
        'content': '''
مطالعات نشان می‌دهد که چیدمان فروشگاه می‌تواند رفتار خرید مشتری را به طور مستقیم تحت تاثیر قرار دهد. مسیرهای مارپیچی، قرار دادن محصولات مکمل کنار هم و استفاده از نقاط توقف (مانند میز تست یا نمونه رایگان) باعث افزایش تعامل مشتری با محصولات و در نتیجه افزایش فروش می‌شود.

پیشنهادات حرفه‌ای:
- از مسیرهای یک‌طرفه برای هدایت مشتری استفاده کنید.
- محصولات مکمل را کنار هم قرار دهید تا خرید ترکیبی ا��زایش یابد.
- نقاط توقف و تعامل را در مسیر مشتری تعبیه کنید.
''',
        'author': 'تحریریه چیدمانو',
        'source_url': 'https://www.nrf.com/blog/how-store-layouts-influence-shopping-behavior',
        'category': 'روانشناسی خرید',
        'tags': 'رفتار مشتری,تحلیل خرید,افزایش نرخ تبدیل',
        'is_featured': True,
    },
]

for art in sample_articles:
    cat = ArticleCategory.objects.get(slug=slugify(art['category']))
    article_slug = slugify(art['title'])
    Article.objects.filter(slug=article_slug).delete()
    Article.objects.get_or_create(
        slug=article_slug,
        defaults={
            'title': art['title'],
            'summary': art['summary'],
            'content': art['content'],
            'author': art['author'],
            'source_url': art['source_url'],
            'category': cat,
            'tags': art['tags'],
            'is_featured': art['is_featured'],
        }
    )
print('مقالات نمونه با موفقیت اضافه شدند.')
