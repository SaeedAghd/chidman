# Generated by Django 4.2.23 on 2025-11-26 20:51

import datetime
from decimal import Decimal
from django.conf import settings
from django.db import migrations, models
import django.db.migrations.operations.special
import django.db.models.deletion
import django.utils.timezone
import store_analysis.models
import uuid

import importlib

def _resolve(modpath, attr_path):
    mod = importlib.import_module(modpath)
    obj = mod
    for part in attr_path.split('.'):
        obj = getattr(obj, part)
    return obj



# Functions from the following migrations need manual copying.
# Move them and any dependencies into this file, then update the
# RunPython operations to refer to the local versions:
# store_analysis.migrations.0009_complete_production_fix
# store_analysis.migrations.0030_add_missing_fields
# store_analysis.migrations.0032_align_payment_pk_and_wallet_tx
# store_analysis.migrations.0045_add_ai_insights_safe
# store_analysis.migrations.0048_add_recommendations_safe
# store_analysis.migrations.0049_add_store_images_safe
# store_analysis.migrations.0051_add_order_number_column
# store_analysis.migrations.0084_add_performance_indexes
# store_analysis.migrations.0092_add_servicepackage_table
# store_analysis.migrations.0094_final_servicepackage_fix

class Migration(migrations.Migration):

    replaces = [('store_analysis', '0001_initial'), ('store_analysis', '0002_wallet_supportticket_storeanalysis_faqservice_and_more'), ('store_analysis', '0003_order'), ('store_analysis', '0004_sitestats_systemsettings_supportticket_ticket_id_and_more'), ('store_analysis', '0005_userprofile'), ('store_analysis', '0006_create_pageview_table'), ('store_analysis', '0007_create_sitestats_table'), ('store_analysis', '0008_aiconsultantservice_pricingplan_transaction_and_more'), ('store_analysis', '0009_complete_production_fix'), ('store_analysis', '0030_add_missing_fields'), ('store_analysis', '0032_align_payment_pk_and_wallet_tx'), ('store_analysis', '0031_alter_faqservice_sort_order_and_more'), ('store_analysis', '0033_merge_20250930_0003'), ('store_analysis', '0034_alter_wallettransaction_payment'), ('store_analysis', '0035_add_tags_to_supportticket'), ('store_analysis', '0036_remove_faqservice_keywords_and_more'), ('store_analysis', '0037_order_original_amount_order_plan_and_more'), ('store_analysis', '0038_storeanalysis_preliminary_analysis'), ('store_analysis', '0039_alter_payment_id'), ('store_analysis', '0040_storeanalysis_results_and_more'), ('store_analysis', '0041_phonebook'), ('store_analysis', '0042_promotionalbanner'), ('store_analysis', '0043_alter_promotionalbanner_end_date'), ('store_analysis', '0044_alter_promotionalbanner_end_date'), ('store_analysis', '0045_add_ai_insights_safe'), ('store_analysis', '0046_fix_django_tables'), ('store_analysis', '0047_add_recommendations_column'), ('store_analysis', '0048_add_recommendations_safe'), ('store_analysis', '0049_add_store_images_safe'), ('store_analysis', '0050_storeanalysis_priority_alter_order_id_and_more'), ('store_analysis', '0051_add_order_number_column'), ('store_analysis', '0052_alter_promotionalbanner_end_date'), ('store_analysis', '0053_order_payment_method_order_transaction_id_and_more'), ('store_analysis', '0054_alter_promotionalbanner_end_date'), ('store_analysis', '0055_alter_promotionalbanner_end_date'), ('store_analysis', '0056_alter_promotionalbanner_end_date'), ('store_analysis', '0057_alter_promotionalbanner_end_date_and_more'), ('store_analysis', '0058_alter_promotionalbanner_end_date'), ('store_analysis', '0059_add_usersubscription'), ('store_analysis', '0060_fix_usersubscription_table'), ('store_analysis', '0061_create_usersubscription_production'), ('store_analysis', '0062_fix_storeanalysis_id_field'), ('store_analysis', '0063_alter_promotionalbanner_end_date'), ('store_analysis', '0064_alter_promotionalbanner_end_date'), ('store_analysis', '0065_alter_promotionalbanner_end_date'), ('store_analysis', '0066_discountnotification_delete_systemsettings_and_more'), ('store_analysis', '0067_systemsettings_alter_discountnotification_options_and_more'), ('store_analysis', '0068_alter_promotionalbanner_end_date'), ('store_analysis', '0069_alter_promotionalbanner_end_date'), ('store_analysis', '0070_alter_promotionalbanner_options_and_more'), ('store_analysis', '0071_chatsession_is_premium_and_more'), ('store_analysis', '0072_alter_promotionalbanner_end_date'), ('store_analysis', '0073_alter_promotionalbanner_end_date_and_more'), ('store_analysis', '0074_alter_promotionalbanner_end_date_and_more'), ('store_analysis', '0075_fix_userprofile_address'), ('store_analysis', '0076_add_authority_field'), ('store_analysis', '0077_add_message_type_to_ticketmessage'), ('store_analysis', '0078_remove_wallettransaction_payment_and_more'), ('store_analysis', '0079_alter_promotionalbanner_end_date'), ('store_analysis', '0080_fix_missing_tables'), ('store_analysis', '0081_add_missing_fields_simple'), ('store_analysis', '0082_add_critical_missing_fields'), ('store_analysis', '0083_fix_critical_fields_manual'), ('store_analysis', '0084_add_performance_indexes'), ('store_analysis', '0085_fix_analysis_id_field'), ('store_analysis', '0086_add_analysis_id_to_model'), ('store_analysis', '0088_alter_promotionalbanner_end_date'), ('store_analysis', '0089_alter_promotionalbanner_end_date'), ('store_analysis', '0090_alter_promotionalbanner_end_date_and_more'), ('store_analysis', '0091_alter_promotionalbanner_end_date'), ('store_analysis', '0092_add_servicepackage_table'), ('store_analysis', '0093_create_servicepackage_model'), ('store_analysis', '0094_final_servicepackage_fix'), ('store_analysis', '0095_alter_promotionalbanner_end_date'), ('store_analysis', '0096_fix_order_plan_foreign_key'), ('store_analysis', '0097_safe_fk_migration_expand_contract'), ('store_analysis', '0098_alter_order_id_alter_promotionalbanner_end_date'), ('store_analysis', '0099_remove_analysisrequest_order_and_more'), ('store_analysis', '0100_alter_promotionalbanner_end_date'), ('store_analysis', '0101_add_storeanalysis_fields'), ('store_analysis', '0102_add_storeanalysis_fields'), ('store_analysis', '0103_add_storeanalysis_fields'), ('store_analysis', '0104_alter_promotionalbanner_end_date'), ('store_analysis', '0105_make_user_optional'), ('store_analysis', '0106_add_temp_order_model'), ('store_analysis', '0107_alter_promotionalbanner_end_date'), ('store_analysis', '0108_add_faq_is_active_field'), ('store_analysis', '0109_add_faq_is_active_field'), ('store_analysis', '0110_add_package_type_field'), ('store_analysis', '0111_alter_promotionalbanner_end_date'), ('store_analysis', '0112_add_free_usage_tracking'), ('store_analysis', '0113_order_base_amount_order_currency_and_more'), ('store_analysis', '0114_alter_promotionalbanner_end_date'), ('store_analysis', '0115_add_review_reminder_model')]

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Payment',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('order_id', models.CharField(max_length=100, unique=True, verbose_name='شناسه سفارش')),
                ('payment_id', models.CharField(blank=True, max_length=100, null=True, verbose_name='شناسه پرداخت')),
                ('transaction_id', models.CharField(blank=True, max_length=100, null=True, verbose_name='شناسه تراکنش')),
                ('customer_name', models.CharField(blank=True, max_length=100, verbose_name='نام مشتری')),
                ('customer_email', models.EmailField(blank=True, max_length=254, verbose_name='ایمیل مشتری')),
                ('customer_phone', models.CharField(blank=True, max_length=20, verbose_name='شماره تلفن')),
                ('amount', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='مبلغ')),
                ('currency', models.CharField(default='IRR', max_length=3, verbose_name='واحد پول')),
                ('description', models.TextField(verbose_name='توضیحات')),
                ('status', models.CharField(choices=[('pending', 'در انتظار پرداخت'), ('processing', 'در حال پردازش'), ('completed', 'تکمیل شده'), ('failed', 'ناموفق'), ('cancelled', 'لغو شده'), ('refunded', 'برگشت شده')], default='pending', max_length=20, verbose_name='وضعیت')),
                ('payment_method', models.CharField(choices=[('ping_payment', 'پی پینگ'), ('zarinpal', 'زرین\u200cپال'), ('manual', 'دستی')], default='ping_payment', max_length=20, verbose_name='روش پرداخت')),
                ('gateway_response', models.JSONField(blank=True, null=True, verbose_name='پاسخ درگاه')),
                ('callback_data', models.JSONField(blank=True, null=True, verbose_name='داده\u200cهای بازگشت')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ بروزرسانی')),
                ('completed_at', models.DateTimeField(blank=True, null=True, verbose_name='تاریخ تکمیل')),
                ('is_test', models.BooleanField(default=True, verbose_name='تست')),
                ('notes', models.TextField(blank=True, verbose_name='یادداشت\u200cها')),
            ],
            options={
                'verbose_name': 'پرداخت',
                'verbose_name_plural': 'پرداخت\u200cها',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='PaymentLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('log_type', models.CharField(choices=[('payment_created', 'ایجاد پرداخت'), ('payment_redirected', 'هدایت به درگاه'), ('payment_callback', 'بازگشت از درگاه'), ('payment_verified', 'تایید پرداخت'), ('payment_failed', 'شکست پرداخت'), ('payment_cancelled', 'لغو پرداخت'), ('payment_refunded', 'برگشت پرداخت'), ('error', 'خطا')], max_length=20, verbose_name='نوع لاگ')),
                ('message', models.TextField(verbose_name='پیام')),
                ('data', models.JSONField(blank=True, null=True, verbose_name='داده\u200cها')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
            ],
            options={
                'verbose_name': 'لاگ پرداخت',
                'verbose_name_plural': 'لاگ\u200cهای پرداخت',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='ServicePackage',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='نام بسته')),
                ('description', models.TextField(verbose_name='توضیحات')),
                ('package_type', models.CharField(choices=[('basic', 'پایه'), ('professional', 'حرفه\u200cای'), ('enterprise', 'سازمانی'), ('custom', 'سفارشی')], max_length=20, verbose_name='نوع بسته')),
                ('price', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='قیمت')),
                ('currency', models.CharField(default='IRR', max_length=3, verbose_name='واحد پول')),
                ('features', models.JSONField(default=list, verbose_name='ویژگی\u200cها')),
                ('max_analyses', models.PositiveIntegerField(default=1, verbose_name='حداکثر تحلیل')),
                ('validity_days', models.PositiveIntegerField(default=30, verbose_name='اعتبار (روز)')),
                ('is_active', models.BooleanField(default=True, verbose_name='فعال')),
                ('is_popular', models.BooleanField(default=False, verbose_name='محبوب')),
                ('sort_order', models.PositiveIntegerField(default=0, verbose_name='ترتیب')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ بروزرسانی')),
            ],
            options={
                'verbose_name': 'بسته خدمات',
                'verbose_name_plural': 'بسته\u200cهای خدمات',
                'ordering': ['sort_order', 'price'],
            },
        ),
        migrations.CreateModel(
            name='UserSubscription',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('start_date', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ شروع')),
                ('end_date', models.DateTimeField(verbose_name='تاریخ پایان')),
                ('is_active', models.BooleanField(default=True, verbose_name='فعال')),
                ('analyses_used', models.PositiveIntegerField(default=0, verbose_name='تحلیل\u200cهای استفاده شده')),
                ('max_analyses', models.PositiveIntegerField(verbose_name='حداکثر تحلیل')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ بروزرسانی')),
                ('package', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='store_analysis.servicepackage', verbose_name='بسته')),
                ('payment', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='store_analysis.payment', verbose_name='پرداخت')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='کاربر')),
            ],
            options={
                'verbose_name': 'اشتراک کاربر',
                'verbose_name_plural': 'اشتراک\u200cهای کاربران',
                'ordering': ['-created_at'],
            },
        ),
        migrations.AddIndex(
            model_name='servicepackage',
            index=models.Index(fields=['package_type'], name='store_analy_package_39836a_idx'),
        ),
        migrations.AddIndex(
            model_name='servicepackage',
            index=models.Index(fields=['is_active'], name='store_analy_is_acti_022170_idx'),
        ),
        migrations.AddIndex(
            model_name='servicepackage',
            index=models.Index(fields=['price'], name='store_analy_price_a5d933_idx'),
        ),
        migrations.AddField(
            model_name='paymentlog',
            name='payment',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='logs', to='store_analysis.payment', verbose_name='پرداخت'),
        ),
        migrations.AddField(
            model_name='payment',
            name='user',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='کاربر'),
        ),
        migrations.AddIndex(
            model_name='usersubscription',
            index=models.Index(fields=['user'], name='store_analy_user_id_b1e227_idx'),
        ),
        migrations.AddIndex(
            model_name='usersubscription',
            index=models.Index(fields=['package'], name='store_analy_package_d0fa32_idx'),
        ),
        migrations.AddIndex(
            model_name='usersubscription',
            index=models.Index(fields=['is_active'], name='store_analy_is_acti_e183e1_idx'),
        ),
        migrations.AddIndex(
            model_name='usersubscription',
            index=models.Index(fields=['end_date'], name='store_analy_end_dat_eb0a98_idx'),
        ),
        migrations.AddIndex(
            model_name='paymentlog',
            index=models.Index(fields=['payment'], name='store_analy_payment_9a570a_idx'),
        ),
        migrations.AddIndex(
            model_name='paymentlog',
            index=models.Index(fields=['log_type'], name='store_analy_log_typ_e27667_idx'),
        ),
        migrations.AddIndex(
            model_name='paymentlog',
            index=models.Index(fields=['created_at'], name='store_analy_created_5d5beb_idx'),
        ),
        migrations.AddIndex(
            model_name='payment',
            index=models.Index(fields=['order_id'], name='store_analy_order_i_aaebad_idx'),
        ),
        migrations.AddIndex(
            model_name='payment',
            index=models.Index(fields=['payment_id'], name='store_analy_payment_2231e7_idx'),
        ),
        migrations.AddIndex(
            model_name='payment',
            index=models.Index(fields=['transaction_id'], name='store_analy_transac_d58c49_idx'),
        ),
        migrations.AddIndex(
            model_name='payment',
            index=models.Index(fields=['status'], name='store_analy_status_d804f0_idx'),
        ),
        migrations.AddIndex(
            model_name='payment',
            index=models.Index(fields=['user'], name='store_analy_user_id_e76640_idx'),
        ),
        migrations.AddIndex(
            model_name='payment',
            index=models.Index(fields=['created_at'], name='store_analy_created_7a65aa_idx'),
        ),
        migrations.CreateModel(
            name='Wallet',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('balance', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='موجودی')),
                ('currency', models.CharField(default='IRR', max_length=3, verbose_name='واحد پول')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ بروزرسانی')),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='کاربر')),
            ],
            options={
                'verbose_name': 'کیف پول',
                'verbose_name_plural': 'کیف\u200cهای پول',
            },
        ),
        migrations.CreateModel(
            name='SupportTicket',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('subject', models.CharField(max_length=200, verbose_name='موضوع')),
                ('description', models.TextField(verbose_name='توضیحات')),
                ('category', models.CharField(choices=[('technical', 'فنی'), ('billing', 'صورت\u200cحساب'), ('general', 'عمومی'), ('feature_request', 'درخواست ویژگی'), ('bug_report', 'گزارش باگ')], max_length=20, verbose_name='دسته\u200cبندی')),
                ('priority', models.CharField(choices=[('low', 'کم'), ('medium', 'متوسط'), ('high', 'بالا'), ('urgent', 'فوری')], default='medium', max_length=10, verbose_name='اولویت')),
                ('status', models.CharField(choices=[('open', 'باز'), ('in_progress', 'در حال بررسی'), ('resolved', 'حل شده'), ('closed', 'بسته')], default='open', max_length=20, verbose_name='وضعیت')),
                ('attachments', models.JSONField(default=list, verbose_name='پیوست\u200cها')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ بروزرسانی')),
                ('resolved_at', models.DateTimeField(blank=True, null=True, verbose_name='تاریخ حل')),
                ('assigned_to', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='assigned_tickets', to=settings.AUTH_USER_MODEL, verbose_name='واگذار شده به')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='کاربر')),
            ],
            options={
                'verbose_name': 'تیکت پشتیبانی',
                'verbose_name_plural': 'تیکت\u200cهای پشتیبانی',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='StoreAnalysis',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('store_name', models.CharField(max_length=200, verbose_name='نام فروشگاه')),
                ('store_url', models.URLField(verbose_name='آدرس فروشگاه')),
                ('store_description', models.TextField(blank=True, verbose_name='توضیحات فروشگاه')),
                ('analysis_type', models.CharField(choices=[('basic', 'پایه'), ('professional', 'حرفه\u200cای'), ('advanced', 'پیشرفته'), ('custom', 'سفارشی')], default='basic', max_length=20, verbose_name='نوع تحلیل')),
                ('status', models.CharField(choices=[('pending', 'در انتظار'), ('processing', 'در حال پردازش'), ('completed', 'تکمیل شده'), ('failed', 'ناموفق'), ('cancelled', 'لغو شده')], default='pending', max_length=20, verbose_name='وضعیت')),
                ('analysis_result', models.JSONField(blank=True, null=True, verbose_name='نتیجه تحلیل')),
                ('ai_insights', models.TextField(blank=True, verbose_name='بینش\u200cهای هوش مصنوعی')),
                ('recommendations', models.TextField(blank=True, verbose_name='توصیه\u200cها')),
                ('store_images', models.JSONField(default=list, verbose_name='تصاویر فروشگاه')),
                ('analysis_files', models.JSONField(default=list, verbose_name='فایل\u200cهای تحلیل')),
                ('price', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='قیمت')),
                ('currency', models.CharField(default='IRR', max_length=3, verbose_name='واحد پول')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ بروزرسانی')),
                ('completed_at', models.DateTimeField(blank=True, null=True, verbose_name='تاریخ تکمیل')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='کاربر')),
            ],
            options={
                'verbose_name': 'تحلیل فروشگاه',
                'verbose_name_plural': 'تحلیل\u200cهای فروشگاه',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='FAQService',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('question', models.CharField(max_length=500, verbose_name='سوال')),
                ('answer', models.TextField(verbose_name='پاسخ')),
                ('category', models.CharField(choices=[('general', 'عمومی'), ('technical', 'فنی'), ('billing', 'صورت\u200cحساب'), ('features', 'ویژگی\u200cها'), ('troubleshooting', 'عیب\u200cیابی')], max_length=20, verbose_name='دسته\u200cبندی')),
                ('keywords', models.TextField(blank=True, verbose_name='کلمات کلیدی')),
                ('is_featured', models.BooleanField(default=False, verbose_name='ویژه')),
                ('sort_order', models.PositiveIntegerField(default=0, verbose_name='ترتیب')),
                ('is_active', models.BooleanField(default=True, verbose_name='فعال')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ بروزرسانی')),
            ],
            options={
                'verbose_name': 'سوال متداول',
                'verbose_name_plural': 'سوالات متداول',
                'ordering': ['sort_order', 'category', 'question'],
                'indexes': [models.Index(fields=['category'], name='store_analy_categor_10ab89_idx'), models.Index(fields=['is_active'], name='store_analy_is_acti_e154af_idx'), models.Index(fields=['is_featured'], name='store_analy_is_feat_4e314a_idx')],
            },
        ),
        migrations.CreateModel(
            name='WalletTransaction',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('amount', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='مبلغ')),
                ('transaction_type', models.CharField(choices=[('deposit', 'واریز'), ('withdrawal', 'برداشت'), ('payment', 'پرداخت'), ('refund', 'برگشت'), ('bonus', 'پاداش')], max_length=20, verbose_name='نوع تراکنش')),
                ('description', models.TextField(blank=True, verbose_name='توضیحات')),
                ('balance_after', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='موجودی پس از تراکنش')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('payment', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='store_analysis.payment', verbose_name='پرداخت')),
                ('wallet', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='transactions', to='store_analysis.wallet', verbose_name='کیف پول')),
            ],
            options={
                'verbose_name': 'تراکنش کیف پول',
                'verbose_name_plural': 'تراکنش\u200cهای کیف پول',
                'ordering': ['-created_at'],
                'indexes': [models.Index(fields=['wallet'], name='store_analy_wallet__b93b5f_idx'), models.Index(fields=['transaction_type'], name='store_analy_transac_2b48d8_idx'), models.Index(fields=['created_at'], name='store_analy_created_1b24b0_idx')],
            },
        ),
        migrations.AddIndex(
            model_name='wallet',
            index=models.Index(fields=['user'], name='store_analy_user_id_03b95e_idx'),
        ),
        migrations.AddIndex(
            model_name='supportticket',
            index=models.Index(fields=['user'], name='store_analy_user_id_6484ec_idx'),
        ),
        migrations.AddIndex(
            model_name='supportticket',
            index=models.Index(fields=['status'], name='store_analy_status_df01c6_idx'),
        ),
        migrations.AddIndex(
            model_name='supportticket',
            index=models.Index(fields=['category'], name='store_analy_categor_59e1f6_idx'),
        ),
        migrations.AddIndex(
            model_name='supportticket',
            index=models.Index(fields=['priority'], name='store_analy_priorit_133245_idx'),
        ),
        migrations.AddIndex(
            model_name='supportticket',
            index=models.Index(fields=['assigned_to'], name='store_analy_assigne_599220_idx'),
        ),
        migrations.AddIndex(
            model_name='supportticket',
            index=models.Index(fields=['created_at'], name='store_analy_created_e6b30c_idx'),
        ),
        migrations.AddIndex(
            model_name='storeanalysis',
            index=models.Index(fields=['user'], name='store_analy_user_id_4ddf34_idx'),
        ),
        migrations.AddIndex(
            model_name='storeanalysis',
            index=models.Index(fields=['status'], name='store_analy_status_87f309_idx'),
        ),
        migrations.AddIndex(
            model_name='storeanalysis',
            index=models.Index(fields=['analysis_type'], name='store_analy_analysi_048c92_idx'),
        ),
        migrations.AddIndex(
            model_name='storeanalysis',
            index=models.Index(fields=['created_at'], name='store_analy_created_66b632_idx'),
        ),
        migrations.CreateModel(
            name='Order',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('order_number', models.CharField(max_length=50, unique=True, verbose_name='شماره سفارش')),
                ('status', models.CharField(choices=[('pending', 'در انتظار'), ('paid', 'پرداخت شده'), ('processing', 'در حال پردازش'), ('completed', 'تکمیل شده'), ('cancelled', 'لغو شده'), ('refunded', 'برگشت شده')], default='pending', max_length=20, verbose_name='وضعیت')),
                ('base_amount', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='مبلغ پایه')),
                ('discount_amount', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='مبلغ تخفیف')),
                ('final_amount', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='مبلغ نهایی')),
                ('currency', models.CharField(default='IRR', max_length=3, verbose_name='واحد پول')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ بروزرسانی')),
                ('payment', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='store_analysis.payment', verbose_name='پرداخت')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='کاربر')),
            ],
            options={
                'verbose_name': 'سفارش',
                'verbose_name_plural': 'سفارش\u200cها',
                'ordering': ['-created_at'],
                'indexes': [models.Index(fields=['user'], name='store_analy_user_id_88d4e0_idx'), models.Index(fields=['status'], name='store_analy_status_5912ec_idx'), models.Index(fields=['order_number'], name='store_analy_order_n_447fed_idx'), models.Index(fields=['created_at'], name='store_analy_created_316369_idx')],
            },
        ),
        migrations.CreateModel(
            name='SiteStats',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField(unique=True, verbose_name='تاریخ')),
                ('total_views', models.PositiveIntegerField(default=0, verbose_name='کل بازدیدها')),
                ('unique_visitors', models.PositiveIntegerField(default=0, verbose_name='بازدیدکنندگان منحصر به فرد')),
                ('new_users', models.PositiveIntegerField(default=0, verbose_name='کاربران جدید')),
                ('page_views', models.PositiveIntegerField(default=0, verbose_name='بازدید صفحات')),
                ('avg_session_duration', models.DurationField(blank=True, null=True, verbose_name='میانگین مدت جلسه')),
                ('bounce_rate', models.FloatField(default=0, verbose_name='نرخ پرش')),
            ],
            options={
                'verbose_name': 'آمار سایت',
                'verbose_name_plural': 'آمارهای سایت',
                'ordering': ['-date'],
            },
        ),
        migrations.CreateModel(
            name='SystemSettings',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('key', models.CharField(max_length=100, unique=True, verbose_name='کلید')),
                ('value', models.TextField(verbose_name='مقدار')),
                ('description', models.TextField(blank=True, verbose_name='توضیحات')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ بروزرسانی')),
            ],
            options={
                'verbose_name': 'تنظیمات سیستم',
                'verbose_name_plural': 'تنظیمات سیستم',
                'ordering': ['key'],
            },
        ),
        migrations.AddField(
            model_name='supportticket',
            name='ticket_id',
            field=models.CharField(default='TEMP-TICKET', max_length=50, unique=True, verbose_name='شناسه تیکت'),
        ),
        migrations.AddField(
            model_name='wallet',
            name='is_active',
            field=models.BooleanField(default=True, verbose_name='فعال'),
        ),
        migrations.CreateModel(
            name='StoreAnalysisResult',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('overall_score', models.FloatField(default=0, verbose_name='امتیاز کلی')),
                ('layout_score', models.FloatField(default=0, verbose_name='امتیاز چیدمان')),
                ('lighting_score', models.FloatField(default=0, verbose_name='امتیاز نورپردازی')),
                ('color_score', models.FloatField(default=0, verbose_name='امتیاز رنگ\u200cبندی')),
                ('signage_score', models.FloatField(default=0, verbose_name='امتیاز تابلوها')),
                ('layout_recommendations', models.TextField(blank=True, verbose_name='توصیه\u200cهای چیدمان')),
                ('lighting_recommendations', models.TextField(blank=True, verbose_name='توصیه\u200cهای نورپردازی')),
                ('color_recommendations', models.TextField(blank=True, verbose_name='توصیه\u200cهای رنگ\u200cبندی')),
                ('signage_recommendations', models.TextField(blank=True, verbose_name='توصیه\u200cهای تابلوها')),
                ('report_file', models.FileField(blank=True, null=True, upload_to='reports/', verbose_name='فایل گزارش')),
                ('images_analysis', models.JSONField(default=list, verbose_name='تحلیل تصاویر')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ بروزرسانی')),
                ('store_analysis', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, to='store_analysis.storeanalysis', verbose_name='تحلیل فروشگاه')),
            ],
            options={
                'verbose_name': 'نتیجه تحلیل فروشگاه',
                'verbose_name_plural': 'نتایج تحلیل فروشگاه\u200cها',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='DiscountCode',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('code', models.CharField(max_length=50, unique=True, verbose_name='کد تخفیف')),
                ('discount_type', models.CharField(choices=[('percentage', 'درصدی'), ('fixed', 'مبلغ ثابت')], default='percentage', max_length=20, verbose_name='نوع تخفیف')),
                ('discount_value', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='مقدار تخفیف')),
                ('discount_percentage', models.PositiveIntegerField(default=0, verbose_name='درصد تخفیف')),
                ('max_uses', models.PositiveIntegerField(default=100, verbose_name='حداکثر استفاده')),
                ('used_count', models.PositiveIntegerField(default=0, verbose_name='تعداد استفاده شده')),
                ('min_order_amount', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='حداقل مبلغ سفارش')),
                ('valid_from', models.DateTimeField(default=django.utils.timezone.now, verbose_name='اعتبار از')),
                ('valid_until', models.DateTimeField(verbose_name='اعتبار تا')),
                ('is_active', models.BooleanField(default=True, verbose_name='فعال')),
                ('description', models.TextField(blank=True, verbose_name='توضیحات')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ بروزرسانی')),
            ],
            options={
                'verbose_name': 'کد تخفیف',
                'verbose_name_plural': 'کدهای تخفیف',
                'ordering': ['-created_at'],
                'indexes': [models.Index(fields=['code'], name='store_analy_code_90e10e_idx'), models.Index(fields=['is_active'], name='store_analy_is_acti_b193cb_idx'), models.Index(fields=['valid_from'], name='store_analy_valid_f_e4d331_idx'), models.Index(fields=['valid_until'], name='store_analy_valid_u_34885d_idx')],
            },
        ),
        migrations.CreateModel(
            name='TicketMessage',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('content', models.TextField(verbose_name='محتوای پیام')),
                ('is_admin_reply', models.BooleanField(default=False, verbose_name='پاسخ ادمین')),
                ('attachments', models.JSONField(default=list, verbose_name='پیوست\u200cها')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('sender', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='فرستنده')),
                ('ticket', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='messages', to='store_analysis.supportticket', verbose_name='تیکت')),
            ],
            options={
                'verbose_name': 'پیام تیکت',
                'verbose_name_plural': 'پیام\u200cهای تیکت',
                'ordering': ['created_at'],
                'indexes': [models.Index(fields=['ticket'], name='store_analy_ticket__f1be30_idx'), models.Index(fields=['sender'], name='store_analy_sender__a72b55_idx'), models.Index(fields=['created_at'], name='store_analy_created_84152c_idx')],
            },
        ),
        migrations.CreateModel(
            name='StoreBasicInfo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('store_name', models.CharField(max_length=200, verbose_name='نام فروشگاه')),
                ('store_type', models.CharField(choices=[('supermarket', 'سوپرمارکت'), ('convenience_store', 'فروشگاه کوچک'), ('department_store', 'فروشگاه بزرگ'), ('specialty_store', 'فروشگاه تخصصی'), ('pharmacy', 'داروخانه'), ('bookstore', 'کتابفروشی'), ('electronics', 'لوازم الکترونیکی'), ('clothing', 'پوشاک'), ('food', 'مواد غذایی'), ('other', 'سایر')], max_length=20, verbose_name='نوع فروشگاه')),
                ('store_location', models.CharField(max_length=300, verbose_name='موقعیت فروشگاه')),
                ('area', models.CharField(max_length=100, verbose_name='منطقه')),
                ('city', models.CharField(max_length=100, verbose_name='شهر')),
                ('phone', models.CharField(blank=True, max_length=20, verbose_name='تلفن')),
                ('email', models.EmailField(blank=True, max_length=254, verbose_name='ایمیل')),
                ('store_size', models.PositiveIntegerField(verbose_name='مساحت فروشگاه (متر مربع)')),
                ('employee_count', models.PositiveIntegerField(default=1, verbose_name='تعداد کارکنان')),
                ('opening_hours', models.CharField(blank=True, max_length=200, verbose_name='ساعات کاری')),
                ('established_year', models.PositiveIntegerField(blank=True, null=True, verbose_name='سال تاسیس')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ بروزرسانی')),
                ('user', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='کاربر')),
            ],
            options={
                'verbose_name': 'اطلاعات پایه فروشگاه',
                'verbose_name_plural': 'اطلاعات پایه فروشگاه\u200cها',
                'ordering': ['-created_at'],
                'indexes': [models.Index(fields=['user'], name='store_analy_user_id_c34278_idx'), models.Index(fields=['store_type'], name='store_analy_store_t_78e77f_idx'), models.Index(fields=['city'], name='store_analy_city_c034eb_idx'), models.Index(fields=['created_at'], name='store_analy_created_0f2019_idx')],
            },
        ),
        migrations.CreateModel(
            name='PageView',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('page_url', models.URLField(verbose_name='آدرس صفحه')),
                ('page_title', models.CharField(max_length=200, verbose_name='عنوان صفحه')),
                ('ip_address', models.GenericIPAddressField(verbose_name='آدرس IP')),
                ('user_agent', models.TextField(verbose_name='User Agent')),
                ('referrer', models.URLField(blank=True, null=True, verbose_name='صفحه مرجع')),
                ('session_id', models.CharField(max_length=100, verbose_name='شناسه جلسه')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ بازدید')),
                ('user', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='کاربر')),
            ],
            options={
                'verbose_name': 'بازدید صفحه',
                'verbose_name_plural': 'بازدیدهای صفحات',
                'ordering': ['-created_at'],
                'indexes': [models.Index(fields=['page_url'], name='store_analy_page_ur_ab76b5_idx'), models.Index(fields=['created_at'], name='store_analy_created_0b9e65_idx'), models.Index(fields=['user'], name='store_analy_user_id_c92766_idx'), models.Index(fields=['session_id'], name='store_analy_session_49fb1a_idx')],
            },
        ),
        migrations.CreateModel(
            name='UserProfile',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('phone', models.CharField(blank=True, max_length=20, verbose_name='شماره تلفن')),
                ('address', models.TextField(blank=True, verbose_name='آدرس')),
                ('birth_date', models.DateField(blank=True, null=True, verbose_name='تاریخ تولد')),
                ('legal_agreement_accepted', models.BooleanField(default=False, verbose_name='تایید تعهدنامه')),
                ('legal_agreement_date', models.DateTimeField(blank=True, null=True, verbose_name='تاریخ تایید تعهدنامه')),
                ('newsletter_subscription', models.BooleanField(default=True, verbose_name='عضویت در خبرنامه')),
                ('email_notifications', models.BooleanField(default=True, verbose_name='اعلان\u200cهای ایمیل')),
                ('sms_notifications', models.BooleanField(default=False, verbose_name='اعلان\u200cهای پیامک')),
                ('bio', models.TextField(blank=True, verbose_name='درباره من')),
                ('avatar', models.ImageField(blank=True, null=True, upload_to='avatars/', verbose_name='تصویر پروفایل')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ بروزرسانی')),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='کاربر')),
            ],
            options={
                'verbose_name': 'پروفایل کاربر',
                'verbose_name_plural': 'پروفایل\u200cهای کاربران',
                'indexes': [models.Index(fields=['user'], name='store_analy_user_id_f05d07_idx'), models.Index(fields=['legal_agreement_accepted'], name='store_analy_legal_a_feb461_idx'), models.Index(fields=['created_at'], name='store_analy_created_ebafe7_idx')],
            },
        ),
        migrations.CreateModel(
            name='AIConsultantService',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='نام سرویس')),
                ('description', models.TextField(verbose_name='توضیحات')),
                ('price', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='قیمت')),
                ('is_active', models.BooleanField(default=True, verbose_name='فعال')),
            ],
            options={
                'verbose_name': 'سرویس مشاوره هوش مصنوعی',
                'verbose_name_plural': 'سرویس\u200cهای مشاوره هوش مصنوعی',
            },
        ),
        migrations.CreateModel(
            name='PricingPlan',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='نام پلن')),
                ('price', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='قیمت')),
                ('features', models.TextField(verbose_name='ویژگی\u200cها')),
                ('is_active', models.BooleanField(default=True, verbose_name='فعال')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
            ],
            options={
                'verbose_name': 'پلن قیمت\u200cگذاری',
                'verbose_name_plural': 'پلن\u200cهای قیمت\u200cگذاری',
            },
        ),
        migrations.CreateModel(
            name='Transaction',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('amount', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='مبلغ')),
                ('transaction_type', models.CharField(max_length=20, verbose_name='نوع تراکنش')),
                ('status', models.CharField(default='pending', max_length=20, verbose_name='وضعیت')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='کاربر')),
            ],
            options={
                'verbose_name': 'تراکنش',
                'verbose_name_plural': 'تراکنش\u200cها',
            },
        ),
        migrations.CreateModel(
            name='StoreTraffic',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('customer_traffic', models.CharField(default='medium', max_length=20, verbose_name='ترافیک مشتری')),
                ('peak_hours', models.CharField(blank=True, max_length=100, verbose_name='ساعات پیک')),
                ('customer_movement_paths', models.CharField(default='mixed', max_length=100, verbose_name='مسیرهای حرکت مشتری')),
                ('high_traffic_areas', models.CharField(blank=True, max_length=200, verbose_name='مناطق پرترافیک')),
                ('customer_path_notes', models.CharField(blank=True, max_length=200, verbose_name='یادداشت\u200cهای مسیر')),
                ('has_customer_video', models.BooleanField(default=False, verbose_name='دارای ویدیو مشتری')),
                ('video_duration', models.IntegerField(blank=True, null=True, verbose_name='مدت ویدیو')),
                ('video_date', models.DateField(blank=True, null=True, verbose_name='تاریخ ویدیو')),
                ('video_time', models.TimeField(blank=True, null=True, verbose_name='زمان ویدیو')),
                ('store_info', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='store_analysis.storebasicinfo', verbose_name='اطلاعات فروشگاه')),
            ],
            options={
                'verbose_name': 'ترافیک فروشگاه',
                'verbose_name_plural': 'ترافیک\u200cهای فروشگاه',
            },
        ),
        migrations.CreateModel(
            name='StoreSurveillance',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('has_surveillance', models.BooleanField(default=False, verbose_name='دارای نظارت')),
                ('camera_count', models.IntegerField(blank=True, null=True, verbose_name='تعداد دوربین')),
                ('camera_locations', models.CharField(blank=True, max_length=200, verbose_name='محل دوربین\u200cها')),
                ('camera_coverage', models.CharField(blank=True, max_length=200, verbose_name='پوشش دوربین')),
                ('recording_quality', models.CharField(default='medium', max_length=20, verbose_name='کیفیت ضبط')),
                ('storage_duration', models.IntegerField(default=30, verbose_name='مدت ذخیره')),
                ('store_info', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='store_analysis.storebasicinfo', verbose_name='اطلاعات فروشگاه')),
            ],
            options={
                'verbose_name': 'نظارت فروشگاه',
                'verbose_name_plural': 'نظارت\u200cهای فروشگاه',
            },
        ),
        migrations.CreateModel(
            name='StoreProducts',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('product_categories', models.CharField(blank=True, max_length=200, verbose_name='دسته\u200cبندی محصولات')),
                ('main_products', models.TextField(blank=True, verbose_name='محصولات اصلی')),
                ('seasonal_products', models.TextField(blank=True, verbose_name='محصولات فصلی')),
                ('product_display_method', models.CharField(blank=True, max_length=100, verbose_name='روش نمایش محصولات')),
                ('store_info', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='store_analysis.storebasicinfo', verbose_name='اطلاعات فروشگاه')),
            ],
            options={
                'verbose_name': 'محصولات فروشگاه',
                'verbose_name_plural': 'محصولات فروشگاه\u200cها',
            },
        ),
        migrations.CreateModel(
            name='StoreLayout',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('entrances', models.IntegerField(default=1, verbose_name='تعداد ورودی')),
                ('exits', models.IntegerField(default=1, verbose_name='تعداد خروجی')),
                ('checkout_location', models.CharField(max_length=200, verbose_name='محل صندوق')),
                ('unused_area_type', models.CharField(max_length=50, verbose_name='نوع فضای خالی')),
                ('unused_area_size', models.IntegerField(default=0, verbose_name='اندازه فضای خالی')),
                ('unused_area_reason', models.TextField(blank=True, verbose_name='دلیل فضای خالی')),
                ('unused_areas', models.TextField(blank=True, verbose_name='فضاهای خالی')),
                ('layout_restrictions', models.TextField(blank=True, verbose_name='محدودیت\u200cهای چیدمان')),
                ('store_info', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='store_analysis.storebasicinfo', verbose_name='اطلاعات فروشگاه')),
            ],
            options={
                'verbose_name': 'چیدمان فروشگاه',
                'verbose_name_plural': 'چیدمان\u200cهای فروشگاه',
            },
        ),
        migrations.CreateModel(
            name='StoreDesign',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('design_style', models.CharField(default='modern', max_length=50, verbose_name='سبک طراحی')),
                ('brand_colors', models.CharField(blank=True, max_length=200, verbose_name='رنگ\u200cهای برند')),
                ('decorative_elements', models.CharField(blank=True, max_length=200, verbose_name='عناصر تزئینی')),
                ('main_lighting', models.CharField(default='artificial', max_length=50, verbose_name='نورپردازی اصلی')),
                ('lighting_intensity', models.CharField(default='medium', max_length=20, verbose_name='شدت نور')),
                ('color_temperature', models.CharField(default='neutral', max_length=20, verbose_name='دمای رنگ')),
                ('store_info', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='store_analysis.storebasicinfo', verbose_name='اطلاعات فروشگاه')),
            ],
            options={
                'verbose_name': 'طراحی فروشگاه',
                'verbose_name_plural': 'طراحی\u200cهای فروشگاه',
            },
        ),
        migrations.CreateModel(
            name='AnalysisRequest',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('store_analysis_data', models.JSONField(default=dict, verbose_name='داده\u200cهای تحلیل')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('order', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='store_analysis.order', verbose_name='سفارش')),
            ],
            options={
                'verbose_name': 'درخواست تحلیل',
                'verbose_name_plural': 'درخواست\u200cهای تحلیل',
            },
        ),
        migrations.CreateModel(
            name='AIConsultantSession',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('session_id', models.CharField(max_length=100, unique=True, verbose_name='شناسه جلسه')),
                ('status', models.CharField(default='active', max_length=20, verbose_name='وضعیت')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('service', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='store_analysis.aiconsultantservice', verbose_name='سرویس')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='کاربر')),
            ],
            options={
                'verbose_name': 'جلسه مشاوره هوش مصنوعی',
                'verbose_name_plural': 'جلسات مشاوره هوش مصنوعی',
            },
        ),
        migrations.CreateModel(
            name='AIConsultantQuestion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('question_text', models.TextField(verbose_name='متن سوال')),
                ('answer_text', models.TextField(blank=True, verbose_name='متن پاسخ')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('service', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='store_analysis.aiconsultantservice', verbose_name='سرویس')),
            ],
            options={
                'verbose_name': 'سوال مشاوره هوش مصنوعی',
                'verbose_name_plural': 'سوالات مشاوره هوش مصنوعی',
            },
        ),
        migrations.CreateModel(
            name='AIConsultantPayment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('amount', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='مبلغ')),
                ('status', models.CharField(default='pending', max_length=20, verbose_name='وضعیت')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('session', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='store_analysis.aiconsultantsession', verbose_name='جلسه')),
            ],
            options={
                'verbose_name': 'پرداخت مشاوره هوش مصنوعی',
                'verbose_name_plural': 'پرداخت\u200cهای مشاوره هوش مصنوعی',
            },
        ),
        migrations.RunPython(
            code=_resolve('store_analysis.migrations.0009_complete_production_fix','add_currency'),
            reverse_code=django.db.migrations.operations.special.RunPython.noop,
        ),
        migrations.RunPython(
            code=_resolve('store_analysis.migrations.0009_complete_production_fix','add_user_id'),
            reverse_code=django.db.migrations.operations.special.RunPython.noop,
        ),
        migrations.RunPython(
            code=_resolve('store_analysis.migrations.0009_complete_production_fix','create_wallet_tx'),
            reverse_code=django.db.migrations.operations.special.RunPython.noop,
        ),
        migrations.RunPython(
            code=_resolve('store_analysis.migrations.0009_complete_production_fix','create_faqservice'),
            reverse_code=django.db.migrations.operations.special.RunPython.noop,
        ),
        migrations.RunPython(
            code=_resolve('store_analysis.migrations.0030_add_missing_fields','Migration.add_payment_description'),
            reverse_code=django.db.migrations.operations.special.RunPython.noop,
        ),
        migrations.AlterField(
            model_name='payment',
            name='description',
            field=models.TextField(blank=True, null=True),
        ),
        migrations.RunPython(
            code=_resolve('store_analysis.migrations.0030_add_missing_fields','Migration.add_wallettx_description'),
            reverse_code=django.db.migrations.operations.special.RunPython.noop,
        ),
        migrations.AlterField(
            model_name='wallettransaction',
            name='description',
            field=models.TextField(blank=True, null=True),
        ),
        migrations.RunPython(
            code=_resolve('store_analysis.migrations.0030_add_missing_fields','Migration.add_faqservice_sort_order'),
            reverse_code=django.db.migrations.operations.special.RunPython.noop,
        ),
        migrations.AlterField(
            model_name='faqservice',
            name='sort_order',
            field=models.IntegerField(default=0),
        ),
        migrations.RunPython(
            code=_resolve('store_analysis.migrations.0032_align_payment_pk_and_wallet_tx','Migration.add_wallet_tx_payment_id'),
            reverse_code=django.db.migrations.operations.special.RunPython.noop,
        ),
        migrations.AlterField(
            model_name='payment',
            name='id',
            field=models.BigAutoField(primary_key=True, serialize=False),
        ),
        migrations.AlterField(
            model_name='wallettransaction',
            name='payment',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='store_analysis.payment'),
        ),
        migrations.AlterField(
            model_name='faqservice',
            name='sort_order',
            field=models.PositiveIntegerField(default=0, verbose_name='ترتیب'),
        ),
        migrations.AlterField(
            model_name='payment',
            name='description',
            field=models.TextField(blank=True, null=True, verbose_name='توضیحات'),
        ),
        migrations.AlterField(
            model_name='supportticket',
            name='id',
            field=models.BigAutoField(primary_key=True, serialize=False),
        ),
        migrations.AlterField(
            model_name='wallettransaction',
            name='description',
            field=models.TextField(blank=True, null=True, verbose_name='توضیحات'),
        ),
        migrations.AlterField(
            model_name='wallettransaction',
            name='payment',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='store_analysis.payment', verbose_name='پرداخت'),
        ),
        migrations.AddField(
            model_name='supportticket',
            name='tags',
            field=models.JSONField(default=list, verbose_name='برچسب\u200cها'),
        ),
        migrations.RemoveField(
            model_name='faqservice',
            name='keywords',
        ),
        migrations.RemoveField(
            model_name='storeanalysis',
            name='analysis_result',
        ),
        migrations.RemoveField(
            model_name='storeanalysis',
            name='store_description',
        ),
        migrations.RemoveField(
            model_name='ticketmessage',
            name='is_admin_reply',
        ),
        migrations.AddField(
            model_name='ticketmessage',
            name='updated_at',
            field=models.DateTimeField(auto_now=True, verbose_name='تاریخ بروزرسانی'),
        ),
        migrations.AddField(
            model_name='order',
            name='original_amount',
            field=models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='مبلغ اصلی'),
            preserve_default=False,
        ),
        migrations.AddField(
            model_name='order',
            name='plan',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='store_analysis.servicepackage', verbose_name='پکیج'),
        ),
        migrations.AddField(
            model_name='storeanalysis',
            name='analysis_data',
            field=models.JSONField(blank=True, default=dict, verbose_name='داده\u200cهای تحلیل'),
        ),
        migrations.AddField(
            model_name='storeanalysis',
            name='order',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='store_analysis.order', verbose_name='سفارش'),
        ),
        migrations.AlterField(
            model_name='storeanalysis',
            name='store_url',
            field=models.URLField(blank=True, null=True, verbose_name='آدرس فروشگاه'),
        ),
        migrations.AddField(
            model_name='storeanalysis',
            name='preliminary_analysis',
            field=models.TextField(blank=True, verbose_name='تحلیل اولیه'),
        ),
        migrations.AlterField(
            model_name='payment',
            name='id',
            field=models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False),
        ),
        migrations.AddField(
            model_name='storeanalysis',
            name='results',
            field=models.JSONField(blank=True, default=dict, null=True, verbose_name='نتایج هوش مصنوعی'),
        ),
        migrations.AddField(
            model_name='storeanalysisresult',
            name='design_analysis',
            field=models.TextField(blank=True, verbose_name='تحلیل طراحی (متن)'),
        ),
        migrations.AddField(
            model_name='storeanalysisresult',
            name='design_score',
            field=models.FloatField(default=0, verbose_name='امتیاز طراحی'),
        ),
        migrations.AddField(
            model_name='storeanalysisresult',
            name='layout_analysis',
            field=models.TextField(blank=True, verbose_name='تحلیل چیدمان (متن)'),
        ),
        migrations.AddField(
            model_name='storeanalysisresult',
            name='overall_analysis',
            field=models.TextField(blank=True, verbose_name='تحلیل کلی'),
        ),
        migrations.AddField(
            model_name='storeanalysisresult',
            name='sales_analysis',
            field=models.TextField(blank=True, verbose_name='تحلیل فروش (متن)'),
        ),
        migrations.AddField(
            model_name='storeanalysisresult',
            name='sales_score',
            field=models.FloatField(default=0, verbose_name='امتیاز فروش'),
        ),
        migrations.AddField(
            model_name='storeanalysisresult',
            name='traffic_analysis',
            field=models.TextField(blank=True, verbose_name='تحلیل ترافیک (متن)'),
        ),
        migrations.AddField(
            model_name='storeanalysisresult',
            name='traffic_score',
            field=models.FloatField(default=0, verbose_name='امتیاز ترافیک'),
        ),
        migrations.CreateModel(
            name='Phonebook',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('store_name', models.CharField(max_length=200, verbose_name='نام فروشگاه')),
                ('store_type', models.CharField(blank=True, max_length=50, verbose_name='نوع فروشگاه')),
                ('contact_name', models.CharField(max_length=200, verbose_name='نام و نام خانوادگی')),
                ('contact_email', models.EmailField(max_length=254, verbose_name='ایمیل')),
                ('contact_phone', models.CharField(max_length=20, verbose_name='شماره تماس')),
                ('additional_notes', models.TextField(blank=True, verbose_name='توضیحات اضافی')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ بروزرسانی')),
                ('analysis', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='store_analysis.storeanalysis', verbose_name='تحلیل مربوطه')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='کاربر')),
            ],
            options={
                'verbose_name': 'دفتر تلفن',
                'verbose_name_plural': 'دفتر تلفن\u200cها',
                'ordering': ['-created_at'],
                'indexes': [models.Index(fields=['store_name'], name='store_analy_store_n_253694_idx'), models.Index(fields=['contact_email'], name='store_analy_contact_8ddee6_idx'), models.Index(fields=['contact_phone'], name='store_analy_contact_636f80_idx'), models.Index(fields=['user'], name='store_analy_user_id_6ac192_idx'), models.Index(fields=['created_at'], name='store_analy_created_0e3f00_idx')],
            },
        ),
        migrations.CreateModel(
            name='PromotionalBanner',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200, verbose_name='عنوان')),
                ('content', models.TextField(verbose_name='محتوای تبلیغاتی')),
                ('image_url', models.URLField(blank=True, verbose_name='آدرس تصویر')),
                ('link_url', models.URLField(blank=True, verbose_name='لینک تبلیغاتی')),
                ('is_active', models.BooleanField(default=True, verbose_name='فعال')),
                ('start_date', models.DateTimeField(default=django.utils.timezone.now, verbose_name='تاریخ شروع')),
                ('end_date', models.DateTimeField(default=datetime.datetime(2025, 11, 5, 19, 32, 17, 184649, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان')),
                ('priority', models.IntegerField(default=1, verbose_name='اولویت نمایش')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='آخرین بروزرسانی')),
            ],
            options={
                'verbose_name': 'بنر تبلیغاتی',
                'verbose_name_plural': 'بنرهای تبلیغاتی',
                'ordering': ['-priority', '-created_at'],
            },
        ),
        migrations.RunPython(
            code=_resolve('store_analysis.migrations.0045_add_ai_insights_safe','add_ai_insights_column'),
            reverse_code=_resolve('store_analysis.migrations.0045_add_ai_insights_safe','noop_reverse'),
        ),
        migrations.RunSQL(
            sql='\n            CREATE TABLE IF NOT EXISTS django_session (\n                session_key varchar(40) NOT NULL PRIMARY KEY,\n                session_data text NOT NULL,\n                expire_date datetime NOT NULL\n            );\n            ',
            reverse_sql='DROP TABLE IF EXISTS django_session;',
        ),
        migrations.RunSQL(
            sql='\n            CREATE INDEX IF NOT EXISTS django_session_expire_date \n            ON django_session (expire_date);\n            ',
            reverse_sql='DROP INDEX IF EXISTS django_session_expire_date;',
        ),
        migrations.RunSQL(
            sql='\n            CREATE TABLE IF NOT EXISTS django_migrations (\n                id integer NOT NULL PRIMARY KEY AUTOINCREMENT,\n                app varchar(255) NOT NULL,\n                name varchar(255) NOT NULL,\n                applied datetime NOT NULL\n            );\n            ',
            reverse_sql='DROP TABLE IF EXISTS django_migrations;',
        ),
        migrations.RunSQL(
            sql='\n            CREATE TABLE IF NOT EXISTS django_content_type (\n                id integer NOT NULL PRIMARY KEY AUTOINCREMENT,\n                app_label varchar(100) NOT NULL,\n                model varchar(100) NOT NULL,\n                UNIQUE (app_label, model)\n            );\n            ',
            reverse_sql='DROP TABLE IF EXISTS django_content_type;',
        ),
        migrations.RunSQL(
            sql='\n            CREATE TABLE IF NOT EXISTS django_admin_log (\n                id integer NOT NULL PRIMARY KEY AUTOINCREMENT,\n                action_time datetime NOT NULL,\n                object_id text,\n                object_repr varchar(200) NOT NULL,\n                action_flag smallint unsigned NOT NULL,\n                change_message text NOT NULL,\n                content_type_id integer,\n                user_id integer NOT NULL,\n                FOREIGN KEY (content_type_id) REFERENCES django_content_type (id),\n                FOREIGN KEY (user_id) REFERENCES auth_user (id)\n            );\n            ',
            reverse_sql='DROP TABLE IF EXISTS django_admin_log;',
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 5, 22, 13, 44, 496731, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.RunPython(
            code=_resolve('store_analysis.migrations.0048_add_recommendations_safe','add_recommendations_column_if_not_exists'),
            reverse_code=django.db.migrations.operations.special.RunPython.noop,
        ),
        migrations.AddField(
            model_name='storeanalysis',
            name='recommendations',
            field=models.TextField(blank=True, verbose_name='توصیه\u200cها'),
        ),
        migrations.RunPython(
            code=_resolve('store_analysis.migrations.0049_add_store_images_safe','add_store_images_column_if_not_exists'),
            reverse_code=django.db.migrations.operations.special.RunPython.noop,
        ),
        migrations.AddField(
            model_name='storeanalysis',
            name='store_images',
            field=models.JSONField(default=list, verbose_name='تصاویر فروشگاه'),
        ),
        migrations.AddField(
            model_name='storeanalysis',
            name='priority',
            field=models.CharField(default='medium', max_length=10, verbose_name='اولویت'),
        ),
        migrations.AlterField(
            model_name='order',
            name='id',
            field=models.AutoField(primary_key=True, serialize=False),
        ),
        migrations.AlterField(
            model_name='payment',
            name='id',
            field=models.AutoField(primary_key=True, serialize=False),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 6, 0, 33, 35, 894750, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AlterField(
            model_name='storeanalysis',
            name='id',
            field=models.AutoField(primary_key=True, serialize=False),
        ),
        migrations.RunPython(
            code=_resolve('store_analysis.migrations.0051_add_order_number_column','add_order_number_column_if_not_exists'),
            reverse_code=django.db.migrations.operations.special.RunPython.noop,
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 6, 4, 29, 46, 133385, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AddField(
            model_name='order',
            name='payment_method',
            field=models.CharField(default='online', max_length=50, verbose_name='روش پرداخت'),
        ),
        migrations.AddField(
            model_name='order',
            name='transaction_id',
            field=models.CharField(blank=True, max_length=100, null=True, verbose_name='شناسه تراکنش'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 7, 22, 34, 56, 303705, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 7, 22, 54, 39, 317735, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 7, 23, 41, 18, 957486, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 8, 0, 30, 54, 845506, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 8, 0, 31, 39, 413746, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AlterField(
            model_name='storeanalysis',
            name='id',
            field=models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 8, 21, 29, 56, 268586, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 8, 21, 30, 35, 834043, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AlterModelOptions(
            name='usersubscription',
            options={'ordering': ['-created_at'], 'verbose_name': 'اشتراک کاربر', 'verbose_name_plural': 'اشتراک\u200cهای کاربران'},
        ),
        migrations.AddField(
            model_name='usersubscription',
            name='analyses_used',
            field=models.PositiveIntegerField(default=0, verbose_name='تحلیل\u200cهای استفاده شده'),
        ),
        migrations.AddField(
            model_name='usersubscription',
            name='max_analyses',
            field=models.PositiveIntegerField(default=10, verbose_name='حداکثر تحلیل'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 8, 22, 41, 5, 107069, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AlterField(
            model_name='storeanalysis',
            name='id',
            field=models.AutoField(primary_key=True, serialize=False),
        ),
        migrations.AlterField(
            model_name='usersubscription',
            name='created_at',
            field=models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد'),
        ),
        migrations.AlterField(
            model_name='usersubscription',
            name='end_date',
            field=models.DateTimeField(verbose_name='تاریخ پایان'),
        ),
        migrations.AlterField(
            model_name='usersubscription',
            name='id',
            field=models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID'),
        ),
        migrations.AlterField(
            model_name='usersubscription',
            name='is_active',
            field=models.BooleanField(default=True, verbose_name='فعال'),
        ),
        migrations.AlterField(
            model_name='usersubscription',
            name='start_date',
            field=models.DateTimeField(auto_now_add=True, verbose_name='تاریخ شروع'),
        ),
        migrations.AlterField(
            model_name='usersubscription',
            name='updated_at',
            field=models.DateTimeField(auto_now=True, verbose_name='تاریخ بروزرسانی'),
        ),
        migrations.AlterField(
            model_name='usersubscription',
            name='user',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='کاربر'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 9, 0, 45, 51, 316032, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 9, 0, 48, 32, 951350, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 9, 19, 22, 34, 695378, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.CreateModel(
            name='DiscountNotification',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200, verbose_name='عنوان')),
                ('message', models.TextField(verbose_name='پیام')),
                ('discount_percentage', models.IntegerField(default=0, verbose_name='درصد تخفیف')),
                ('discount_type', models.CharField(choices=[('opening', 'تخفیف افتتاحیه'), ('seasonal', 'تخفیف فصلی'), ('nowruz', 'تخفیف نوروزی'), ('special', 'تخفیف ویژه')], default='opening', max_length=50, verbose_name='نوع تخفیف')),
                ('is_active', models.BooleanField(default=True, verbose_name='فعال')),
                ('start_date', models.DateTimeField(verbose_name='تاریخ شروع')),
                ('end_date', models.DateTimeField(verbose_name='تاریخ پایان')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ بروزرسانی')),
            ],
            options={
                'verbose_name': 'اطلاعیه تخفیف',
                'verbose_name_plural': 'اطلاعیه\u200cهای تخفیف',
                'ordering': ['-created_at'],
            },
        ),
        migrations.DeleteModel(
            name='SystemSettings',
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 9, 19, 59, 14, 51740, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.CreateModel(
            name='SystemSettings',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('key', models.CharField(max_length=100, unique=True, verbose_name='کلید')),
                ('value', models.TextField(verbose_name='مقدار')),
                ('description', models.TextField(blank=True, verbose_name='توضیحات')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ بروزرسانی')),
            ],
            options={
                'verbose_name': 'تنظیمات سیستم',
                'verbose_name_plural': 'تنظیمات سیستم',
                'ordering': ['key'],
            },
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 9, 19, 59, 53, 317909, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 9, 20, 12, 37, 436788, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 10, 6, 17, 22, 33317, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AlterModelOptions(
            name='promotionalbanner',
            options={'verbose_name': 'بنر تبلیغاتی', 'verbose_name_plural': 'بنرهای تبلیغاتی'},
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 10, 10, 39, 46, 867780, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.CreateModel(
            name='ChatSession',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('title', models.CharField(default='مشاوره جدید', max_length=200, verbose_name='عنوان جلسه')),
                ('is_active', models.BooleanField(default=True, verbose_name='فعال')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='آخرین بروزرسانی')),
                ('store_analysis', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='chat_sessions', to='store_analysis.storeanalysis', verbose_name='تحلیل فروشگاه')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='chat_sessions', to=settings.AUTH_USER_MODEL, verbose_name='کاربر')),
                ('is_premium', models.BooleanField(default=False, verbose_name='حساب پریمیوم')),
                ('premium_expires_at', models.DateTimeField(blank=True, null=True, verbose_name='تاریخ انقضای پریمیوم')),
            ],
            options={
                'verbose_name': 'جلسه چت',
                'verbose_name_plural': 'جلسات چت',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='ChatMessage',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('role', models.CharField(choices=[('user', 'کاربر'), ('assistant', 'دستیار هوشمند'), ('system', 'سیستم')], max_length=20, verbose_name='نقش')),
                ('content', models.TextField(verbose_name='محتوای پیام')),
                ('ai_model', models.CharField(blank=True, max_length=50, null=True, verbose_name='مدل AI')),
                ('processing_time', models.FloatField(blank=True, null=True, verbose_name='زمان پردازش (ثانیه)')),
                ('tokens_used', models.IntegerField(blank=True, null=True, verbose_name='تعداد توکن')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('session', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='messages', to='store_analysis.chatsession', verbose_name='جلسه چت')),
            ],
            options={
                'verbose_name': 'پیام چت',
                'verbose_name_plural': 'پیام\u200cهای چت',
                'ordering': ['created_at'],
            },
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 10, 20, 11, 19, 310787, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 10, 20, 44, 46, 106318, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 12, 19, 40, 29, 556049, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AlterField(
            model_name='userprofile',
            name='phone',
            field=models.CharField(help_text='شماره موبایل برای پرداخت و ارسال پیامک الزامی است', max_length=11, verbose_name='شماره موبایل'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 13, 18, 48, 8, 170039, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AlterField(
            model_name='userprofile',
            name='address',
            field=models.TextField(blank=True, default='', null=True, verbose_name='آدرس'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 13, 21, 33, 23, 266636, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AddField(
            model_name='payment',
            name='authority',
            field=models.CharField(blank=True, max_length=100, null=True, verbose_name='کد مرجع درگاه'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 14, 21, 5, 5, 241826, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AddField(
            model_name='ticketmessage',
            name='message_type',
            field=models.CharField(choices=[('user', 'کاربر'), ('admin', 'ادمین'), ('system', 'سیستم')], default='user', max_length=10, verbose_name='نوع پیام'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 14, 23, 27, 10, 479194, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.RemoveField(
            model_name='wallettransaction',
            name='payment',
        ),
        migrations.RemoveField(
            model_name='wallettransaction',
            name='wallet',
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 15, 22, 38, 33, 323035, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.DeleteModel(
            name='Wallet',
        ),
        migrations.DeleteModel(
            name='WalletTransaction',
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 16, 19, 6, 3, 114635, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 16, 19, 8, 0, 472098, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 16, 19, 54, 38, 804890, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 16, 19, 59, 6, 321270, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.RunPython(
            code=_resolve('store_analysis.migrations.0084_add_performance_indexes','Migration.create_indexes'),
            reverse_code=django.db.migrations.operations.special.RunPython.noop,
        ),
        migrations.AddField(
            model_name='storeanalysisresult',
            name='analysis_id',
            field=models.CharField(blank=True, max_length=100, null=True, verbose_name='شناسه تحلیل'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 16, 20, 39, 44, 212791, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 16, 20, 54, 56, 966594, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 17, 18, 27, 5, 691525, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 17, 19, 14, 30, 634984, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AlterField(
            model_name='userprofile',
            name='address',
            field=models.TextField(blank=True, null=True, verbose_name='آدرس'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 17, 20, 49, 2, 720980, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.RunPython(
            code=_resolve('store_analysis.migrations.0092_add_servicepackage_table','create_servicepackage_table'),
            reverse_code=django.db.migrations.operations.special.RunPython.noop,
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 17, 21, 4, 21, 539940, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.RunPython(
            code=_resolve('store_analysis.migrations.0094_final_servicepackage_fix','create_servicepackage'),
            reverse_code=django.db.migrations.operations.special.RunPython.noop,
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 17, 21, 21, 8, 832612, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.RunSQL(
            sql='SELECT 1;',
            reverse_sql='',
        ),
        migrations.RunSQL(
            sql='SELECT 1;',
            reverse_sql='',
        ),
        migrations.AlterField(
            model_name='order',
            name='id',
            field=models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 18, 19, 55, 6, 14205, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.RemoveField(
            model_name='analysisrequest',
            name='order',
        ),
        migrations.RemoveField(
            model_name='storeanalysis',
            name='order',
        ),
        migrations.RemoveField(
            model_name='storeanalysis',
            name='priority',
        ),
        migrations.RemoveField(
            model_name='userprofile',
            name='address',
        ),
        migrations.AddField(
            model_name='analysisrequest',
            name='store_analysis',
            field=models.ForeignKey(default=1, on_delete=django.db.models.deletion.CASCADE, to='store_analysis.storeanalysis', verbose_name='تحلیل فروشگاه'),
            preserve_default=False,
        ),
        migrations.AddField(
            model_name='storeanalysis',
            name='additional_info',
            field=models.TextField(blank=True, verbose_name='اطلاعات اضافی'),
        ),
        migrations.AddField(
            model_name='storeanalysis',
            name='business_goals',
            field=models.TextField(blank=True, verbose_name='اهداف کسب\u200cوکار'),
        ),
        migrations.AddField(
            model_name='storeanalysis',
            name='contact_email',
            field=models.EmailField(blank=True, max_length=254, verbose_name='ایمیل تماس'),
        ),
        migrations.AddField(
            model_name='storeanalysis',
            name='contact_phone',
            field=models.CharField(blank=True, max_length=20, verbose_name='شماره تماس'),
        ),
        migrations.AddField(
            model_name='storeanalysis',
            name='final_amount',
            field=models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='مبلغ نهایی'),
        ),
        migrations.AddField(
            model_name='storeanalysis',
            name='marketing_budget',
            field=models.CharField(blank=True, max_length=50, verbose_name='بودجه بازاریابی'),
        ),
        migrations.AddField(
            model_name='storeanalysis',
            name='package_type',
            field=models.CharField(default='basic', max_length=20, verbose_name='نوع پکیج'),
        ),
        migrations.AddField(
            model_name='storeanalysis',
            name='store_address',
            field=models.TextField(blank=True, verbose_name='آدرس فروشگاه'),
        ),
        migrations.AddField(
            model_name='storeanalysis',
            name='store_size',
            field=models.CharField(blank=True, max_length=50, verbose_name='اندازه فروشگاه'),
        ),
        migrations.AddField(
            model_name='storeanalysis',
            name='store_type',
            field=models.CharField(blank=True, max_length=50, verbose_name='نوع فروشگاه'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 18, 21, 13, 4, 785130, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.DeleteModel(
            name='Order',
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 18, 21, 33, 18, 507133, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 18, 21, 34, 0, 954940, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 18, 21, 34, 30, 603208, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 18, 21, 34, 38, 853656, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 18, 21, 40, 37, 76574, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 18, 22, 0, 51, 187762, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AlterField(
            model_name='storeanalysis',
            name='user',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='کاربر'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 18, 22, 33, 24, 922150, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.CreateModel(
            name='Order',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('order_number', models.CharField(max_length=50, unique=True, verbose_name='شماره سفارش')),
                ('status', models.CharField(default='pending', max_length=20, verbose_name='وضعیت')),
                ('original_amount', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='مبلغ اصلی')),
                ('final_amount', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='مبلغ نهایی')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ بروزرسانی')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='کاربر')),
            ],
            options={
                'verbose_name': 'سفارش',
                'verbose_name_plural': 'سفارشات',
                'ordering': ['-created_at'],
            },
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 21, 5, 40, 3, 861342, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 21, 6, 11, 5, 153756, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AddField(
            model_name='faqservice',
            name='is_active',
            field=models.BooleanField(default=True, verbose_name='فعال'),
        ),
        migrations.AddField(
            model_name='storeanalysis',
            name='package_type',
            field=models.CharField(default='basic', max_length=20, verbose_name='نوع پکیج'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 21, 7, 47, 52, 944834, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=datetime.datetime(2025, 11, 28, 4, 23, 35, 24209, tzinfo=datetime.timezone.utc), verbose_name='تاریخ پایان'),
        ),
        migrations.CreateModel(
            name='FreeUsageTracking',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('username', models.CharField(db_index=True, max_length=150, verbose_name='نام کاربری')),
                ('email', models.EmailField(blank=True, db_index=True, max_length=254, null=True, verbose_name='ایمیل')),
                ('phone', models.CharField(blank=True, db_index=True, max_length=20, null=True, verbose_name='شماره موبایل')),
                ('ip_address', models.CharField(db_index=True, max_length=255, verbose_name='آدرس IP')),
                ('analysis_id', models.IntegerField(blank=True, null=True, verbose_name='شناسه تحلیل')),
                ('store_name', models.CharField(blank=True, max_length=200, verbose_name='نام فروشگاه')),
                ('is_blocked', models.BooleanField(default=False, verbose_name='مسدود شده')),
                ('block_reason', models.TextField(blank=True, verbose_name='دلیل مسدودیت')),
                ('first_usage', models.DateTimeField(auto_now_add=True, verbose_name='اولین استفاده')),
                ('last_checked', models.DateTimeField(auto_now=True, verbose_name='آخرین بررسی')),
                ('user_agent', models.TextField(blank=True, verbose_name='User Agent')),
                ('additional_info', models.JSONField(blank=True, default=dict, verbose_name='اطلاعات اضافی')),
            ],
            options={
                'verbose_name': 'ردیابی استفاده رایگان',
                'verbose_name_plural': 'ردیابی استفاده رایگان',
                'ordering': ['-first_usage'],
                'indexes': [models.Index(fields=['username'], name='store_analy_usernam_dcf921_idx'), models.Index(fields=['email'], name='store_analy_email_bb753e_idx'), models.Index(fields=['phone'], name='store_analy_phone_ed9c46_idx'), models.Index(fields=['ip_address'], name='store_analy_ip_addr_1381a1_idx'), models.Index(fields=['is_blocked'], name='store_analy_is_bloc_75ac2f_idx'), models.Index(fields=['first_usage'], name='store_analy_first_u_f23a1e_idx')],
            },
        ),
        migrations.AddConstraint(
            model_name='freeusagetracking',
            constraint=models.UniqueConstraint(fields=('username',), name='unique_username_free_usage'),
        ),
        migrations.AddField(
            model_name='order',
            name='base_amount',
            field=models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12, verbose_name='مبلغ پایه'),
        ),
        migrations.AddField(
            model_name='order',
            name='currency',
            field=models.CharField(default='IRR', max_length=3, verbose_name='واحد پول'),
        ),
        migrations.AddField(
            model_name='order',
            name='discount_amount',
            field=models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12, verbose_name='مبلغ تخفیف'),
        ),
        migrations.AddField(
            model_name='order',
            name='payment',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='orders', to='store_analysis.payment', verbose_name='پرداخت مرتبط'),
        ),
        migrations.AddField(
            model_name='order',
            name='payment_method',
            field=models.CharField(choices=[('online', 'آنلاین'), ('wallet', 'کیف پول'), ('free', 'رایگان'), ('manual', 'دستی'), ('ping_payment', 'پی\u200cپینگ')], default='online', max_length=20, verbose_name='روش پرداخت'),
        ),
        migrations.AddField(
            model_name='order',
            name='plan',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='store_analysis.pricingplan', verbose_name='پلن انتخابی'),
        ),
        migrations.AddField(
            model_name='order',
            name='transaction_id',
            field=models.CharField(blank=True, max_length=100, null=True, verbose_name='شناسه تراکنش'),
        ),
        migrations.AddField(
            model_name='payment',
            name='store_analysis',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='payments', to='store_analysis.storeanalysis', verbose_name='تحلیل فروشگاه'),
        ),
        migrations.AddField(
            model_name='storeanalysis',
            name='order',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='analyses', to='store_analysis.order', verbose_name='سفارش'),
        ),
        migrations.AlterField(
            model_name='order',
            name='final_amount',
            field=models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12, verbose_name='مبلغ نهایی'),
        ),
        migrations.AlterField(
            model_name='order',
            name='order_number',
            field=models.CharField(default=store_analysis.models.generate_order_number, max_length=50, unique=True, verbose_name='شماره سفارش'),
        ),
        migrations.AlterField(
            model_name='order',
            name='original_amount',
            field=models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12, verbose_name='مبلغ اصلی'),
        ),
        migrations.AlterField(
            model_name='order',
            name='status',
            field=models.CharField(choices=[('pending', 'در انتظار'), ('paid', 'پرداخت شده'), ('processing', 'در حال پردازش'), ('completed', 'تکمیل شده'), ('cancelled', 'لغو شده'), ('refunded', 'برگشت شده')], default='pending', max_length=20, verbose_name='وضعیت'),
        ),
        migrations.AlterField(
            model_name='order',
            name='user',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='کاربر'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=store_analysis.models.default_banner_end_date, verbose_name='تاریخ پایان'),
        ),
        migrations.AddIndex(
            model_name='order',
            index=models.Index(fields=['order_number'], name='store_analy_order_n_447fed_idx'),
        ),
        migrations.AddIndex(
            model_name='order',
            index=models.Index(fields=['user'], name='store_analy_user_id_88d4e0_idx'),
        ),
        migrations.AddIndex(
            model_name='order',
            index=models.Index(fields=['status'], name='store_analy_status_5912ec_idx'),
        ),
        migrations.AddIndex(
            model_name='order',
            index=models.Index(fields=['created_at'], name='store_analy_created_316369_idx'),
        ),
        migrations.AlterField(
            model_name='promotionalbanner',
            name='end_date',
            field=models.DateTimeField(default=store_analysis.models.default_banner_end_date, verbose_name='تاریخ پایان'),
        ),
        migrations.CreateModel(
            name='ReviewReminder',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('discount_percentage', models.PositiveIntegerField(default=30, verbose_name='درصد تخفیف')),
                ('analysis_completed_at', models.DateTimeField(verbose_name='تاریخ تکمیل تحلیل')),
                ('reminder_date', models.DateTimeField(verbose_name='تاریخ یادآوری')),
                ('email_sent_at', models.DateTimeField(blank=True, null=True, verbose_name='تاریخ ارسال ایمیل')),
                ('status', models.CharField(choices=[('pending', 'در انتظار ارسال'), ('scheduled', 'زمان\u200cبندی شده'), ('sent', 'ارسال شده'), ('expired', 'منقضی شده'), ('used', 'استفاده شده')], default='pending', max_length=20, verbose_name='وضعیت')),
                ('email_sent', models.BooleanField(default=False, verbose_name='ایمیل ارسال شده')),
                ('email_subject', models.CharField(blank=True, max_length=200, verbose_name='موضوع ایمیل')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ بروزرسانی')),
                ('analysis', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='review_reminders', to='store_analysis.storeanalysis', verbose_name='تحلیل')),
                ('discount_code', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='store_analysis.discountcode', verbose_name='کد تخفیف')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='کاربر')),
            ],
            options={
                'verbose_name': 'یادآوری بازبینی',
                'verbose_name_plural': 'یادآوری\u200cهای بازبینی',
                'ordering': ['-created_at'],
                'indexes': [models.Index(fields=['analysis'], name='store_analy_analysi_c7a6e4_idx'), models.Index(fields=['user'], name='store_analy_user_id_7ffa71_idx'), models.Index(fields=['status'], name='store_analy_status_1919f2_idx'), models.Index(fields=['reminder_date'], name='store_analy_reminde_c280c5_idx'), models.Index(fields=['email_sent'], name='store_analy_email_s_effc63_idx')],
            },
        ),
    ]
